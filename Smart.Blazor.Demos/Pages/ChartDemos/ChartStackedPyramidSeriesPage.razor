@page "/chart-stacked-pyramid-series"

<style>
    smart-chart {
        width: 100%;
        max-width: 850px;
    }
</style>

<Example Name="Chart">
    <Chart DataSource="sampleData" Caption="January 2021 Comic Book Market Share" Description="" ShowLegend
           Padding="new Padding() { Left = 15, Top = 15, Right = 15, Bottom = 15 }" TitlePadding="new Padding() { Left = 90, Top = 0, Right = 0, Bottom = 10 }"
           XAxis="xAxis" ValueAxis="valueAxis" SeriesGroups="seriesGroups" />
</Example>  

@code {
    List<Dictionary<string, object>> sampleData = new List<Dictionary<string, object>>()
    {
        new Dictionary<string, object> {
            { "Period", "January 2019" }, { "Marvel Comics", 39.24 }, { "DC", 29.7 }, { "Image Comics", 7.56 },
            { "Dark Horse Comics", 3.95 }, { "IDW Publishing", 3.65 }, { "BOOM! Studios", 2.32 }
        }
    };

    ChartXAxis xAxis = new ChartXAxis()
    {
        DataField = "Period",
        Visible = false
    };

    ChartValueAxis valueAxis = new ChartValueAxis()
    {
        Visible = false
    };

    List<ChartSeriesGroup> seriesGroups = new List<ChartSeriesGroup>()
    {
        new ChartSeriesGroup()
        {
            Type = ChartType.Stackedcolumn,
            ColumnsGapPercent = 50,
            SeriesGapPercent = 0,
            ColumnsTopWidthPercent = 0,
            ColumnsBottomWidthPercent = 100,
            ColumnsMinWidth = 600,
            FormatSettings = new ChartFormatSettings() { Sufix = "%" },
            Series = new List<ChartSeriesGroupSerie>()
            {
                new ChartSeriesGroupSerie() { DataField = "Marvel Comics", Labels = new ChartLabels() { Visible = true, Offset = new Offset() { X = 270 } } },
                new ChartSeriesGroupSerie() { DataField = "DC", Labels = new ChartLabels() { Visible = true, Offset = new Offset() { X = 150 } } },
                new ChartSeriesGroupSerie() { DataField = "Image Comics", Labels = new ChartLabels() { Visible = true, Offset = new Offset() { X = 85 } } },
                new ChartSeriesGroupSerie() { DataField = "Dark Horse Comics", Labels = new ChartLabels() { Visible = true, Offset = new Offset() { X = 60 } } },
                new ChartSeriesGroupSerie() { DataField = "IDW Publishing", Labels = new ChartLabels() { Visible = true, Offset = new Offset() { X = 45 } } },
                new ChartSeriesGroupSerie() { DataField = "BOOM! Studios", Labels = new ChartLabels() { Visible = true, Offset = new Offset() { X = 35 } } }
            }
        }
    };
}

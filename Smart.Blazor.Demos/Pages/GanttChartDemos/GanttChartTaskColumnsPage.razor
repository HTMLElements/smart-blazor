@page "/ganttchart-task-columns"

@using Smart.Blazor.Demos.Data

<style>
    /* This is the CSS used in the demo */
    /* fallback */
    @@font-face
        {
            font-family: 'Material Icons';
            font-style: normal;
            font-weight: 400;
            src: url(https://fonts.gstatic.com/s/materialicons/v31/2fcrYFNaTjcS6g4U3t-Y5ZjZjT5FdEJ140U2DJYC3mY.woff2) format('woff2');
        }

        .material-icons {
            font-family: 'Material Icons';
            font-weight: normal;
            font-style: normal;
            font-size: inherit;
            line-height: 1;
            letter-spacing: normal;
            text-transform: none;
            display: inline-block;
            white-space: nowrap;
            word-wrap: normal;
            direction: ltr;
            -webkit-font-feature-settings: 'liga';
            -webkit-font-smoothing: antialiased;
        }

        .material-icons {
            margin-right: 10px;
        }

        smart-gantt-chart {
            height: auto;
        }
</style>

<Example Name="GanttChart">
    <p>
        <b>Description:</b> Custom Task Columns with custom content.
    </p>

    <GanttChart DataSource="Records" TaskColumns="taskColumns" TreeSize="treeSize" View="GanttChartView.Day" />
</Example>

@code {
    string treeSize = "25%";

    List<GanttChartTaskColumn> taskColumns = new List<GanttChartTaskColumn>
    {
        new GanttChartTaskColumn() {
            Label = "Labels",
            Value = "label",
            Size = "25%",
            // Min = "30%"
        },
        new GanttChartTaskColumn() {
            Label = "Date Start",
            Value = "dateStart",
            // Min = 100
        },
        new GanttChartTaskColumn() {
            Label = "Date End",
            Value = "dateEnd",
            Size = "25%"
            // Min = "30%"
        },
    };

    public List<GanttDataRecord> Records;

    protected override void OnInitialized()
    {
        Records = new List<GanttDataRecord>()
        {
            new GanttDataRecord()
            {
                Label = "Learn",
                DateStart = "2021-02-11T7:00:00",
                DateEnd = "2021-02-11T12:00:00",
                Type = "task",
                Connections = new List<Dictionary<string, int>>()
                {
                    new Dictionary<string, int>()
                    {
                        { "target", 1 }, { "type", 1 }
                    }
                }
            },
            new GanttDataRecord()
            {
                Label = "Work",
                DateStart = "2021-02-11T7:00:00",
                DateEnd = "2021-02-11T17:30:00",
                Type = "task",
                Connections = new List<Dictionary<string, int>>()
                {
                    new Dictionary<string, int>()
                    {
                        { "target", 3 }, { "type", 1 }
                    }
                }
            },
            new GanttDataRecord()
            {
                Label = "Eat",
                DateStart = "2021-02-11T12:00:00",
                DateEnd = "2021-02-11T13:00:00",
                Type = "task"
            },
            new GanttDataRecord()
            {
                Label = "Shop",
                DateStart = "2021-02-11T18:45:00",
                DateEnd = "2021-02-11T19:30:00",
                Type = "task",
                Connections = new List<Dictionary<string, int>>()
                {
                    new Dictionary<string, int>()
                    {
                        { "target", 5 }, { "type", 1 }
                    }
                }
            },
            new GanttDataRecord()
            {
                Label = "Train",
                DateStart = "2021-02-11T20:00:00",
                DateEnd = "2021-02-11T21:45:00",
                Progress = 50,
                Type = "task"
            },
            new GanttDataRecord()
            {
                Label = "Travel",
                DateStart = "2021-02-11T23:00:00",
                DateEnd = "2021-02-12T06:00:00"
            }
        };
    }
}

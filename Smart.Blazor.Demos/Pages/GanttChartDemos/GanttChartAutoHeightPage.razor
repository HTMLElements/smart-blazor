@page "/ganttchart-auto-height"

@using Smart.Blazor.Demos.Data
@inject RandomDataService RandomDataService


<style>
    /* This is the CSS used in the demo */
    smart-gantt-chart {
        width: calc(100% - 300px);
        height: auto;
    }

        smart-gantt-chart[theme="dark"] {
            --smart-gantt-chart-task-label-color: black;
            --smart-gantt-chart-task-thumb-color: white;
        }

        smart-gantt-chart .morning-shift {
            --smart-gantt-chart-task-color: rgb(56, 181, 216);
        }

        smart-gantt-chart .half-day {
            --smart-gantt-chart-task-color: rgb(245, 174, 0);
        }

        smart-gantt-chart .early-morning-support {
            --smart-gantt-chart-task-color: rgb(255, 144, 166);
        }

        smart-gantt-chart .afternoon-shift {
            --smart-gantt-chart-task-color: rgb(34, 177, 141);
        }
</style>

<Example Name="GanttChart">   
    <GanttChart DataSource="Records" TaskColumns="taskColumns" DurationUnit="Duration.Hour" View="GanttChartView.Day" TreeSize="125"/>
</Example>

@code {

    List<GanttChartTaskColumn> taskColumns = new List<GanttChartTaskColumn>
    {
        new GanttChartTaskColumn() {
            Label = "Employee",
            Value = "id"           
        }
    };

    public List<GanttDataRecord> Records;

    protected override void OnInitialized()
    {
        Records = new List<GanttDataRecord>()
        {
            new GanttDataRecord()
            {
                Id = "Betty",
                Label = "Morning-Shift",
                DateStart = "2021-01-15T04:00:00",
                DateEnd = "2021-01-15T012:30:00",
                Class = "morning-shift",
                Type = "task"
            },
            new GanttDataRecord()
            {
                Id = "William",
                Label = "Afternoon Shift",
                DateStart = "2021-01-15T12:30:00",
                DateEnd = "2021-01-15T20:00:00",
                Class = "afternoon-shift",
                Type = "task"
            },
            new GanttDataRecord()
            {
                Id = "Emma",
                Label = "Half-day",
                DateStart = "2021-01-15T12:30:00",
                DateEnd = "2021-01-15T16:30:00",
                Class = "half-day",
                Type = "task"
            },
            new GanttDataRecord()
            {
                Id = "Oliver",
                Label = "Morning-Shift",
                DateStart = "2021-01-15T04:00:00",
                DateEnd = "2021-01-15T12:30:00",
                Class = "morning-shift",
                Type = "task"
            },
            new GanttDataRecord()
            {
                Id = "Jason",
                Label = "Afternoon-Shift",
                DateStart = "2021-01-15T12:30:00",
                DateEnd = "2021-01-15T20:00:00",
                Class = "afternoon-shift",
                Type = "task"
            },
            new GanttDataRecord()
            {
                Id = "Alex",
                Label = "Early-morning-support",
                DateStart = "2021-01-15T00:00:00",
                DateEnd = "2021-01-15T00:00:00",
                Class = "early-morning-support",
                Type = "task"
            },
            new GanttDataRecord()
            {
                Id = "Lucas",
                Label = "Half-day",
                DateStart = "2021-01-15T04:00:00",
                DateEnd = "2021-01-15T08:00:00",
                Class = "half-day",
                Type = "task"
            },
            new GanttDataRecord()
            {
                Id = "Michael",
                Label = "Early-morning-support",
                DateStart = "2021-01-15T00:00:00",
                DateEnd = "2021-01-15T08:30:00",
                Class = "early-morning-support",
                Type = "task"
            }
        };
    }
}
